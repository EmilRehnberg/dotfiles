#!/usr/bin/env ruby
require_relative("lib/downloader_base.rb")

class YouTubeDownloader < DownloaderBase
  EXECUTABLE = "youtube-dl"
  DEFAULTS = %w(
    https://www.youtube.com/watch?v=1fc3RdJKVB8
    https://www.youtube.com/watch?v=YVzkL8GuqKs
  )

  def initialize
    super(parse_args(ARGV))
  end

  private

  # the video code is all that is needed and it is 11 chars long
  def parse_args(argv)
    argv.map{|arg| arg[/[\w-]{11}/]}
  end

  def url_arg(url)
    "-t #{url}"
  end
end

if __FILE__ == $0
  YouTubeDownloader.new.run
end
